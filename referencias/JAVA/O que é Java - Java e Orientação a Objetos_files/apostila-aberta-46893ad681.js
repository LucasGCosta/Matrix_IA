!function(){function e(){for(var o,i=arguments,a=i.length,r=i[a-3],s=i[a-2]||[],c=i[a-1],l=[],u=!0,d=0;d<s.length;d++)o=s[d],t.hasOwnProperty(o)?l.push(t[o]):(4!=a&&(n[o]=n[o]||[],n[o].push([0,r,s,c])),u=!1);if(u)for(t[r]=c.apply(this,l);n[r]&&(i=n[r].pop());)e.apply(this,i)}var t={},n={};e.amd={jQuery:!0},define=e}(),function(e,t){"use strict";function n(){o.READY||(o.event.determineEventTypes(),o.utils.each(o.gestures,function(e){o.detection.register(e)}),o.event.onTouch(o.DOCUMENT,o.EVENT_MOVE,o.detection.detect),o.event.onTouch(o.DOCUMENT,o.EVENT_END,o.detection.detect),o.READY=!0)}var o=function(e,t){return new o.Instance(e,t||{})};o.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},o.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,o.HAS_TOUCHEVENTS="ontouchstart"in e,o.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,o.NO_MOUSEEVENTS=o.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(o.MOBILE_REGEX),o.EVENT_TYPES={},o.DIRECTION_DOWN="down",o.DIRECTION_LEFT="left",o.DIRECTION_UP="up",o.DIRECTION_RIGHT="right",o.POINTER_MOUSE="mouse",o.POINTER_TOUCH="touch",o.POINTER_PEN="pen",o.EVENT_START="start",o.EVENT_MOVE="move",o.EVENT_END="end",o.DOCUMENT=e.document,o.plugins=o.plugins||{},o.gestures=o.gestures||{},o.READY=!1,o.utils={extend:function(e,n,o){for(var i in n)e[i]!==t&&o||(e[i]=n[i]);return e},each:function(e,n,o){var i,a;if("forEach"in e)e.forEach(n,o);else if(e.length!==t){for(i=0,a=e.length;a>i;i++)if(n.call(o,e[i],i,e)===!1)return}else for(i in e)if(e.hasOwnProperty(i)&&n.call(o,e[i],i,e)===!1)return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[];return o.utils.each(e,function(e){t.push("undefined"!=typeof e.clientX?e.clientX:e.pageX),n.push("undefined"!=typeof e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,o=t.pageX-e.pageX;return 180*Math.atan2(n,o)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),i=Math.abs(e.pageY-t.pageY);return n>=i?e.pageX-t.pageX>0?o.DIRECTION_LEFT:o.DIRECTION_RIGHT:e.pageY-t.pageY>0?o.DIRECTION_UP:o.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,o=t.pageY-e.pageY;return Math.sqrt(n*n+o*o)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==o.DIRECTION_UP||e==o.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){t&&e&&e.style&&(o.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){o.utils.each(t,function(t){n&&(t=n+t.substring(0,1).toUpperCase()+t.substring(1)),t in e.style&&(e.style[t]=t)})}),"none"==t.userSelect&&(e.onselectstart=function(){return!1}),"none"==t.userDrag&&(e.ondragstart=function(){return!1}))}},o.Instance=function(e,t){var i=this;return n(),this.element=e,this.enabled=!0,this.options=o.utils.extend(o.utils.extend({},o.defaults),t||{}),this.options.stop_browser_behavior&&o.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),o.event.onTouch(e,o.EVENT_START,function(e){i.enabled&&o.detection.startDetect(i,e)}),this},o.Instance.prototype={on:function(e,t){var n=e.split(" ");return o.utils.each(n,function(e){this.element.addEventListener(e,t,!1)},this),this},off:function(e,t){var n=e.split(" ");return o.utils.each(n,function(e){this.element.removeEventListener(e,t,!1)},this),this},trigger:function(e,t){t||(t={});var n=o.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var i=this.element;return o.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var i=null,a=!1,r=!1;o.event={bindDom:function(e,t,n){var i=t.split(" ");o.utils.each(i,function(t){e.addEventListener(t,n,!1)})},onTouch:function(e,t,n){var s=this;this.bindDom(e,o.EVENT_TYPES[t],function(c){var l=c.type.toLowerCase();if(!l.match(/mouse/)||!r){l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===c.which?a=!0:l.match(/mouse/)&&!c.which&&(a=!1),l.match(/touch|pointer/)&&(r=!0);var u=0;a&&(o.HAS_POINTEREVENTS&&t!=o.EVENT_END?u=o.PointerEvent.updatePointer(t,c):l.match(/touch/)?u=c.touches.length:r||(u=l.match(/up/)?0:1),u>0&&t==o.EVENT_END?t=o.EVENT_MOVE:u||(t=o.EVENT_END),(u||null===i)&&(i=c),n.call(o.detection,s.collectEventData(e,t,s.getTouchList(i,t),c)),o.HAS_POINTEREVENTS&&t==o.EVENT_END&&(u=o.PointerEvent.updatePointer(t,c))),u||(i=null,a=!1,r=!1,o.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=o.HAS_POINTEREVENTS?o.PointerEvent.getEvents():o.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],o.EVENT_TYPES[o.EVENT_START]=e[0],o.EVENT_TYPES[o.EVENT_MOVE]=e[1],o.EVENT_TYPES[o.EVENT_END]=e[2]},getTouchList:function(e){return o.HAS_POINTEREVENTS?o.PointerEvent.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,t,n,i){var a=o.POINTER_TOUCH;return(i.type.match(/mouse/)||o.PointerEvent.matchType(o.POINTER_MOUSE,i))&&(a=o.POINTER_MOUSE),{center:o.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:a,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return o.detection.stopDetect()}}}},o.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return o.utils.each(e.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){return e==o.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,i={};return i[o.POINTER_MOUSE]=n===t.MSPOINTER_TYPE_MOUSE||n===o.POINTER_MOUSE,i[o.POINTER_TOUCH]=n===t.MSPOINTER_TYPE_TOUCH||n===o.POINTER_TOUCH,i[o.POINTER_PEN]=n===t.MSPOINTER_TYPE_PEN||n===o.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},o.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:o.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst.options;return o.utils.each(this.gestures,function(n){return this.stopped||t[n.name]===!1||n.handler.call(n,e,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=e),e.eventType==o.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=o.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;!t||e.touches.length==t.touches.length&&e.touches!==t.touches||(t.touches=[],o.utils.each(e.touches,function(e){t.touches.push(o.utils.extend({},e))}));var n,i,a=e.timeStamp-t.timeStamp,r=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,c=o.utils.getVelocity(a,r,s);return"end"===e.eventType?(n=this.current.lastEvent&&this.current.lastEvent.interimAngle,i=this.current.lastEvent&&this.current.lastEvent.interimDirection):(n=this.current.lastEvent&&o.utils.getAngle(this.current.lastEvent.center,e.center),i=this.current.lastEvent&&o.utils.getDirection(this.current.lastEvent.center,e.center)),o.utils.extend(e,{deltaTime:a,deltaX:r,deltaY:s,velocityX:c.x,velocityY:c.y,distance:o.utils.getDistance(t.center,e.center),angle:o.utils.getAngle(t.center,e.center),interimAngle:n,direction:o.utils.getDirection(t.center,e.center),interimDirection:i,scale:o.utils.getScale(t.touches,e.touches),rotation:o.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),o.utils.extend(o.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},o.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(o.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case o.EVENT_START:this.triggered=!1;break;case o.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&o.detection.current.name!=this.name)return;if(o.detection.current.name!=this.name&&(o.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&e.distance>0)){var n=Math.abs(t.options.drag_min_distance/e.distance);o.detection.current.startEvent.center.pageX+=e.deltaX*n,o.detection.current.startEvent.center.pageY+=e.deltaY*n,e=o.detection.extendEventData(e)}(o.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=o.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(o.utils.isVertical(i)?e.direction=e.deltaY<0?o.DIRECTION_UP:o.DIRECTION_DOWN:e.direction=e.deltaX<0?o.DIRECTION_LEFT:o.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&o.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!o.utils.isVertical(e.direction))&&e.preventDefault();break;case o.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},o.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case o.EVENT_START:clearTimeout(this.timer),o.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==o.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case o.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case o.EVENT_END:clearTimeout(this.timer)}}},o.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==o.EVENT_END&&t.trigger(this.name,e)}},o.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==o.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},o.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==o.EVENT_END&&"touchcancel"!=e.srcEvent.type){var n=o.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),i&&!t.options.tap_always||(o.detection.current.name="tap",t.trigger(o.detection.current.name,e))}}},o.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==o.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==o.EVENT_START&&t.trigger(this.name,e)))}},o.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(o.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case o.EVENT_START:this.triggered=!1;break;case o.EVENT_MOVE:var n=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(n<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;o.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),n>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case o.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("hammer",[],function(){return o}):"object"==typeof module&&"object"==typeof module.exports?module.exports=o:e.Hammer=o}(this),define("fw/Query",["hammer"],function(e){return function(t){function n(e,t){return/^\.([\w-]+)$/.test(t)&&e.getElementsByClassName?e.getElementsByClassName(RegExp.$1):/^#([\w-]*)$/.test(t)?(t=e.getElementById(RegExp.$1))?[t]:[]:/^[\w-]+$/.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}function o(e,t){return new RegExp("\\s+"+t+"\\s+").test(" "+e.className+" ")}function i(e){this.length=e.length,this.nodes=e}i.prototype={isQ:!0,find:function(e){var t=[];return this.each(function(o){for(var i=n(o,e),a=0;a<i.length;a++)t.push(i[a])}),new i(t)},get:function(e){return void 0==e?this.nodes:this.nodes[e]},on:function(n,o){var i=this,a=n.split(/\s*,\s*/);return i.each(function(n){for(var i=a[0],r=0;r<a.length;i=a[++r])"tap"!=i&&"hold"!=i||!t.addEventListener?t.addEventListener?n.addEventListener(i,o,!1):("tap"==i&&(i="click"),n.attachEvent("on"+i,function(e){e.preventDefault=function(){t.event.returnValue=!1},e.stopPropagation=function(){t.event.cancelBubble=!0},o.call(n,e)})):e(n,{drag:!1,swipe:!1,transform:!1}).on(i,function(){o.apply(n,arguments)})})},hasClass:function(e){var t=!1;return this.each(function(n){t||(t=o(n,e))}),t}};var a={each:function(e){e.call(this,this)},text:function(e){this.textContent=e},html:function(e){this.innerHTML=e},hide:function(){this.style.display="none"},show:function(){this.style.display=""},addClass:function(e){this.className+=" "+e},removeClass:function(e){this.className=(" "+this.className+" ").replace(new RegExp("\\s+("+e+"\\s+)+","g")," ").replace(/^\s+/,"").replace(/\s+$/,"")},toggleClass:function(e){o(this,e)?a.removeClass.call(this,e):a.addClass.call(this,e)},insertAfter:function(e){this.parentNode.insertBefore(e,this.nextSibling)}};for(var r in a)!function(e){i.prototype[e]=function(){for(var t=arguments,n=0;n<this.nodes.length;n++)a[e].apply(this.nodes[n],t);return this}}(r);return function(e){if(e||(e=[]),e.isQ)return e;if("string"==typeof e)e=n(document,e);else{var t=Object.prototype.toString.call(e);"[object Array]"!==t&&"[object NodeList]"!==t&&(e=[e])}return new i(e)}}(window)}),define("fw/Creator",[],function(){return function(e,t){var n=document.createElement(e);t.innerHTML?n.innerHTML=t.innerHTML:t.innerText&&(n.textContent=t.innerText);for(option in t)n.setAttribute(option,t[option]);return n}}),define("fw/Ajax",[],function(){return function(e,t,n){function o(t,o,a){"function"==typeof a&&(a={success:a});var r=a.error||function(e){console.log(e)},s=a.success||function(){},c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState){var t;if(c.status>=200&&c.status<300||304==c.status){try{var o=c.responseText;"application/json"==c.getResponseHeader(n)&&(o=JSON.parse(o))}catch(i){t=i}t?r.call(e,t,c):s.call(e,o,c)}else r.call(e,"Ajax failed",c)}};var l=i(a.params);"GET"==t&&l&&(o+=(o.indexOf("?")>=0?"&":"?")+l),c.open(t,o,!0),"POST"==t&&c.setRequestHeader(n,"application/x-www-form-urlencoded"),c.send(l?l:null)}function i(e){var n=[];for(var o in e){var i=e[o];if(i&&i.constructor==Array)for(var a in i)n[n.length]=t(o)+"="+t(i[a]);else n[n.length]=t(o)+"="+t(i)}return n.join("&").replace(" ","+")}return{get:function(e,t){o("GET",e,t||{})},post:function(e,t){o("POST",e,t||{})}}}(window,encodeURIComponent,"Content-Type")}),define("fw/ext/Cookie",[],function(){return function(e,t,n){if("undefined"==typeof t){var o=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),a=0;a<i.length;a++){var r=i[a].replace(/^\s+|\s+$/g,"");if(r.substring(0,e.length+1)==e+"="){o=decodeURIComponent(r.substring(e.length+1));break}}return o}n=n||{},null===t&&(t="",n.expires=-1);var s="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,s="; expires="+c.toUTCString()}var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,l,u,d].join("")}}),define(function(){var e=function(e){function t(e){for(f=1;e=o.shift();)e()}var n,o=[],i=!1,a=document,r=a.documentElement,s=r.doScroll,c="DOMContentLoaded",l="addEventListener",u="onreadystatechange",d="readyState",f=/^loade|c/.test(a[d]);return a[l]&&a[l](c,n=function(){a.removeEventListener(c,n,i),t()},i),s&&a.attachEvent(u,n=function(){/^c/.test(a[d])&&(a.detachEvent(u,n),t())}),e=s?function(t){self!=top?f?t():o.push(t):function(){try{r.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){f?e():o.push(e)}}();e(function(){define("domready",[],function(){})})});var _gaq=[["_setAccount","UA-270161-1"+(document.cookie&&-1!=document.cookie.indexOf("caelum-funcionario")?"6":"")],["_setDomainName",".caelum.com.br"],["_setSiteSpeedSampleRate",100],["_trackPageview"]];if(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),define(["fw/Query","domready"],function(e){function t(t){for(var o=0;o<t.length;o++){var i=t[o];"dont-track"!=i.className&&0!==i.href.indexOf(n)&&e(i).on("click",function(){_gaq.push(["_trackPageview","/LinkExternoApostila/"+this.href])})}}if(document.querySelectorAll){var n=location.protocol+"//"+(location.hostname||location.host)+(document.location.port?":"+location.port:"")+"/";t(document.querySelectorAll('a[href^="http://"]')),t(document.querySelectorAll('a[href^="https://"]'))}}),define(["domready"],function(){if(document.querySelectorAll)for(var e=document.querySelectorAll("div.highlight"),t=0;t<e.length;t++){var n=e[t],o=n.querySelector("pre");if(0!=o.querySelectorAll(".lineno").length){var i=o.cloneNode(!0);i.className="linenoscol",o.className="maincode",n.appendChild(i)}}}),define(["fw/Query","fw/Creator","domready"],function(e,t){function n(){c.addClass("lead-capture-active"),localStorage.setItem("lead-capture-show",(new Date).getTime())}function o(){c.removeClass("lead-capture-active"),localStorage.setItem("lead-capture-closed",(new Date).getTime())}function i(){console.log("criando"),a=t("div",{"class":"lead-capture-overlay"}),r=t("iframe",{"class":"lead-capture-popup",src:"/_apostila_aberta_form/"}),s.appendChild(a),s.appendChild(r),a.addEventListener("click",o),document.onkeydown=function(e){e=e||window.event,27==e.keyCode&&o()},window.leadCaptureClose=o}if(console.log("lead-capture"),"localStorage"in window){var a,r,s=document.body,c=e(s),l=!!localStorage.getItem("lead-capture-show");l||(i(),n())}}),define(["fw/Query","domready"],function(e){e(".chapter-nav").on("change",function(){var e=this.value;void 0!==e&&""!==e&&"undefined"!==e&&(location.href=e)})}),define(["fw/Query","fw/Ajax","fw/ext/Cookie","domready"],function(e,t,n){function o(){try{var t=e(".offline-installation-progress").get(0);t.progress=void 0,t.className="offline-installation-progress",t.style.width=""}catch(n){}}function i(){n(s,"ok",{path:"/"+s+"/"})}function a(t){if(!t){var n=e(".offline-installation-progress").get(0).progress||0;t=n+1,t>=80&&(t=80)}5>t&&(t=5),e(".offline-installation-progress").get(0).style.width=t+"%",e(".offline-installation-progress").get(0).progress=t,t>=100&&(e(".offline-installation-progress").addClass("ok"),e(".offline-installation-progress").get(0).style.width="")}function r(){t.get("/"+s+"/offline/_last_version",function(e){console.log("New installed version: "+e),localStorage.setItem(s,e)}),e(top.document.documentElement).removeClass("offline-not-installed").removeClass("offline-update-available").addClass("offline-installed")}if(!window.applicationCache)return console.log("AppCache not supported"),e(document.documentElement).addClass("no-appcache"),void _gaq.push(["_trackEvent","Apostilas offline","Não suportado",navigator.userAgent,0,!0]);e(document.documentElement).addClass("appcache");var s=location.pathname.replace(/\/([^\/]+)\/.*/,"$1");e(".offline-install-button, .offline-update-button").on("click",function(){console.log("Initiating installation"),o(),n(s,"update",{expires:7,path:"/"+s+"/"}),e(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),_gaq.push(["_trackEvent","Apostilas offline","Instalação",s])}),e(".offline-remove-button").on("click",function(){console.log("Removing installation"),o(),n(s,"remove",{expires:7,path:"/"+s+"/"}),e(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),_gaq.push(["_trackEvent","Apostilas offline","Desinstalação",s])});var c=localStorage.getItem(s);c?(console.log("Cached version: "+c),e(document.documentElement).addClass("offline-installed"),_gaq.push(["_trackEvent","Apostilas offline","Versão instalada",c])):e(document.documentElement).addClass("offline-not-installed"),c&&t.get("/"+s+"/offline/_last_version",function(t){console.log("Server version: "+t),t!==c&&e(document.documentElement).addClass("offline-update-available")}),window._offline=[],_offline.cached=_offline.updateready=_offline.noupdate=function(e){r(),a(100),i()},_offline.error=function(){console.log("AppCache: error."),localStorage.removeItem(s),e(".offline-installation-progress").addClass("error"),_gaq.push(["_trackEvent","Apostilas offline","Error",s])},_offline.obsolete=function(){console.log("AppCache: obsolete."),localStorage.removeItem(s),a(100),e(".offline-installation-progress").addClass("removed"),e(top.document.documentElement).removeClass("offline-installed").removeClass("offline-update-available").addClass("offline-not-installed")},_offline.progress=function(e){e.loaded&&e.total?a(100*e.loaded/e.total):a()}}),define(["fw/Query","domready"],function(e){if(e(".lista-apostilas-offline").length)for(var t=0;t<localStorage.length;t++){var n=localStorage.key(t);if(0==n.indexOf("apostila-")){var o=nomes[n]||n,i=document.createElement("li");i.innerHTML='<a href="/'+n+'/">'+o+"</a>",e(".lista-apostilas-offline").get(0).appendChild(i)}}}),"standalone"in window.navigator&&window.navigator.standalone){var apostila_slug=location.pathname.replace(/\/([^\/]+)\/.*/,"$1"),appversion=localStorage.getItem(apostila_slug),is_installed=!!appversion;if(define(["fw/Query","fw/ext/Cookie","domready"],function(e,t){is_installed||(e(".offline").length?(t(apostila_slug,"update",{expires:7,path:"/"+apostila_slug+"/"}),e(".offline-installation").html('<iframe src="install.html" class="offline-install-iframe"></iframe>'),localStorage.setItem("page","/"+apostila_slug+"/"),_gaq.push(["_trackEvent","Apostilas offline","Instalação iOS Web App",apostila_slug])):location.href="/"+apostila_slug+"/offline/")}),is_installed){var page=localStorage.getItem("page");page?page!==location.pathname+location.hash&&(location.href=page):localStorage.setItem("page",location.pathname+location.hash)}document.documentElement.style.display="block",document.addEventListener("click",function(e){for(var t=e.target;"A"!==t.nodeName&&"HTML"!==t.nodeName;)t=t.parentNode;var n=t.getAttribute("href");n&&(0==n.indexOf("/"+apostila_slug)||-1===n.indexOf("http:")&&0!==n.indexOf("/"))&&(e.preventDefault(),document.location.href=n,localStorage.removeItem("page"))},!1),define(["fw/Query","domready"],function(e){e(".chapter-nav").on("change",function(){localStorage.removeItem("page")})})}var iOS=navigator.userAgent.match(/iP(ad|hone|od)/i);iOS&&(document.documentElement.className+=" ios"),define(["fw/Query","domready"],function(e){var t=e(".config").get(0),n=e(".config .icone").get(0);e(".config .submenu").get(0);e(n).on("tap",function(n){e(t).toggleClass("ativo")}),e(window).on("click",function(o){o.target!==n&&o.target.tagName&&"INPUT"!==o.target.tagName&&"SELECT"!==o.target.tagName&&e(t).removeClass("ativo")}),e(".form-action").on("click",function(){this.parentNode.submit()})}),define(["fw/Query","domready"],function(e){var t=14,n=e(".barra-topo .sombra").get(0);n&&window.scrollY&&(n.style.top="-"+t+"px",e(window).on("scroll, resize, rotationchange",function(){var e=t-window.scrollY/6;0>e?e=0:e>t&&(e=t),e="-"+e+"px",n.style.top!=e&&(n.style.top=e)}))}),define(["fw/Query","domready"],function(e){function t(t,n){var o=void 0;e(window).on("scroll, resize, rotationchange",function(){o&&clearTimeout(o),o=setTimeout(t,n)})}if("history"in window&&"replaceState"in window.history){var n=document.querySelectorAll(".section");0!=n.length&&t(function(){for(var e=Math.floor(window.scrollY+window.innerHeight/2),t=void 0,o=0;o<n.length&&!(n[o].offsetTop>e);o++)t=n[o];if(void 0!==t){var i=t.getAttribute("data-section");i!==location.hash.replace("#","")&&history.replaceState({scroll:!0},"","#"+i)}else""!==location.hash.replace("#","")&&location.pathname&&history.replaceState({scroll:!0},"",location.pathname)},200)}});